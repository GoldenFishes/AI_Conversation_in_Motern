## 双摄像头双路信息综合判断



### 1 背景

当前存在两个摄像头信息，一是RGB彩色，一是黑白。我们姑且认为两路视角各自会有一个判断。

对于16种球，会为每种球输出一个坐标信息（不在场上也是坐标信息的一种）

因此我们需要考虑两路摄像头的给定信息进行综合判断，然而在不预先知道场上情况时，我们没法只利用当前帧判断两个摄像头在信息冲突情况下谁真谁假。



### 2 推断

在任意时刻，对于每个球，**真实情况**只会有以下四种（信息丢失也算错误）

- A 两路摄像头信息均正确
- B 两路摄像头信息一个正确一个错误
- C 两路摄像头信息均错误

在任意时刻，对于每个球，我们能**观察到**的情况只会有以下两种：

- 1 两摄像头信息相同
- 2 两摄像头信息不同

因此，综合真实情况+观测，我们一共存在以下情况：

- A1 两路信息相同，均正确
- B2 两路信息不同，一个正确一个错误

- C1 两路信息相同，均错误
- C2 两路信息不同，均错误



真值空间为：{A1,B2,C1,C2}

观测空间为：{一致，不一致}

**结论一：**这是一个多对一映射，无法通过观测空间反推真值。当前帧的观测信息是“模糊的”，无法唯一反推真实状态，无法仅靠“相同 / 不同”判定哪路对。

------

其次，我们仅考虑真值空间的化简情况：

为了利用过去前面的信息，我们假设过去存在准确的信息，当前信息不准确时可以参考过去信息以纠正 (且假设第一帧完全准确)。则过去一定存在A1，因此我们从A1开始枚举全部情况（列出存在真实错误的帧连续情况下）则有：

A1/B2/C1/C2

A1/B2/C2/C1

A1/C1/B2/C2

A1/C1/C2/B2

A1/C2/B2/C1

A1/C2/C1/B2

我们明确化简规则，**只有相邻连续帧之间可以进行确定性化简**（通过条件判断修正），跨帧之间无法进行确定性化简，因为上一帧的情况不确定真实性，坐标一旦位移已经不能通过匹配的方式进行化简了。

在**真实情况**考虑中，存在以下化简：

仅有 A1/B2 可以修正为 A1/A1

**结论二:** 即使能够判断真值情况，也无法修正全部错误帧。

------

最终结论：

- 不可观测性：当前帧的观测信息是“模糊的”，无法唯一反推真实状态，无法仅靠“相同 / 不同”判定哪路对。
- 错误传播性：在连续帧出现两个或以上 C 类（双错）之后，即便后续帧为 B2，也无法回溯判断并修正，形成错误封闭环，因此系统需防止连续 C 类发生。
- 修复边界：即使掌握所有真实状态，仅 B2（单错）可修正，C1/C2（双错）无法修正，错误具有不可逆的特性。



### 3 引入其他机制

#### 3.1 排他性匹配

当能给出全部16个球的判断时，可以通过排他性匹配来校准前后两帧的判断误差



#### 3.2 球运动物理先验

根据已知轨迹预测未来运动状态



####  3.3 多帧一致性

时间窗口做一致性投票投票